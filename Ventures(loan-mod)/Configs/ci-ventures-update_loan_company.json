{
    "validation_spec": "{}",
    "request_body_spec": "{\n  company: {\n    name: (.loan_relations[0].business_name? // null),\n    entityType: ($entityType[.loan_relations[0].entity_type] // null),\n    role: \"LoanEntity\",\n    businessPhone: (.loan_relations[0].work_phone? | if . then tostring | if length == 10 then \"\\(.[0:3])-\\(.[3:6])-\\(.[6:10])\" else . end else null end),\n    email: (.loan_relations[0].email? // null),\n    website: null,\n    taxId: (.loan_relations[0].formatted_tin? // null),\n    taxIdType: (.loan_relations[0].tin_type? // null),\n    dunsNumber: null,\n    address: (try (.loan_relations[0].relation_addresses[]? | select(.address_type == \"mailing\") | {\n      city: .city?,\n      street1: .address_line_1?,\n      street2: .address_line_2?,\n      postalCode: (if .zip_code_plus4? and .zip_code_plus4 != \"\" then \"\\(.zip_code?)+\\(.zip_code_plus4)\" else .zip_code? end),\n      countryCode: (if .country? == \"\" then \"US\" else .country? end),\n      stateCode: .state?\n    }) // null),\n    establishedDate: (.loan_relations[0].business_established_date? // null),\n    currentOwnershipEstablishedDate: (.loan_relations[0].business_established_date? // null),\n    stateOfFormation: (.loan_relations[0].state_of_establishment? // null),\n    naicsCode: ( if .loan_relations[0].naics_code then .loan_relations[0].naics_code | tostring else null end ),\n    creditScore: (try (.loan_aggregator[]? | select(.aggregator_type == \"fico\" and .is_latest == true) | .details.fico.principals[]? | select(.SSN == .loan_relations[0].tin?) | .ficoScore? | tonumber) // null),\n    creditScoreDate: (try (.loan_aggregator[]? | select(.aggregator_type == \"fico\" and .is_latest == true) | (if .modified? then .modified | split(\"T\")[0] else \"\" end)) // null)\n  },\n  association: (if .loan_relations[0].is_primary_borrower? then \"Operating Company\" else \"Affiliate\" end),\n  primary: (.loan_relations[0].is_primary_borrower? // false),\n  borrower: false,\n  guaranteeType: (if (.loan_relations[0].ownership_percentage? | tonumber? // 0) > 20 then \"Unsecured Full\" else \"Unsecured Limited\" end),\n  dbaName: (.loan_relations[0].dba_name? // null),\n  employeeCount: (.loan_relations[0].number_of_employees? // null),\n  annualRevenue: (.loan_relations[0].details.annual_business_revenue? // null)\n}",
    "response_body_spec": "{\n    apiSuccess: (\n        if .responses| has(\"succeeded\") \n            then .responses|.succeeded \n        else false \n        end // false\n    ), \n    responses: (\n        if .responses|.succeeded \n            then { \n                customerid: .responses.result.id \n            } \n        else null \n        end\n    ),\n    errors: ((.responses|.messages) // null),\n}",
    "request_body_spec_config": "{\n \"entityType\":{\n \"single_member_llc\":\"Limited Liability Company Single Member\",\n \"sole_proprietor\":\"Sole Proprietorship\",\n \"partnership\":\"Partnership\",\n \"llc\":\"Limited Liability Company\",\n \"llc_as_s_corp\":\"Limited Liability Company\",\n \"llc_as_c_corp\":\"Limited Liability Company\",\n \"llc_as_partnership\":\"Limited Liability Partnership\",\n \"s_corp\":\"S Corporation\",\n \"c_corp\":\"C Corporation\"\n }\n}",
    "response_body_spec_config": "{}"
}