{
    "validation_spec": "{}",
    "request_body_spec": "{\n\tloanId: (.loan_number // null),\n\tborrower: false,\n\tassociation: (\n\t\tif .loan_relations[0].is_primary_borrower\n\t\t\tthen \"Operating Company\" \n\t\telse \"Affiliate\" \n\t\tend\n\t),\n\tprimary: (.loan_relations[0].is_primary_borrower // null),\n\tguaranteeType: (\n\t\tif (.loan_relations[0].ownership_percentage // \"0\" | tonumber ) > 20 \n\t\t\tthen \"Unsecured Full\" \n\t\telse \"Unsecured Limited\" \n\t\tend // null\n\t),\n\tdbaName: (.loan_relations[0].dba_name // null),\n\temployeeCount: (.loan_relations[0].number_of_employees // null),\n\tannualRevenue: (.loan_relations[0].details.annual_business_revenue // null),\n\tcompany: ( .loan_aggregator as $aggregators\n\t\t| .loan_relations[0] \n\t\t| {\n\t\t\tname: (.business_name // null),\n\t\t\trole: \"LoanEntity\",\n\t\t\tentityType: ($entityType[.entity_type] // null),\n\t\t\tbusinessPhone: (\n\t\t\t\tif .work_phone \n\t\t\t\t\tthen (.work_phone | tostring)\n\t\t\t\telif .cell_phone \n\t\t\t\t\tthen (.cell_phone | tostring)\n\t\t\t\telse (.home_phone | tostring )\n\t\t\t\tend // null\n\t\t\t),\n\t\t\temail: (.email? // null),\n\t\t\twebsite: null,\n\t\t\ttaxId: (.formatted_tin? // null),\n\t\t\ttaxIdType: (.tin_type? // null),\n\t\t\tdunsNumber: null,\n\t\t\taddress: ( (.details.mailing_address_flag // false) as $mailingAddressFlag\n\t\t\t\t| .relation_addresses[] \n\t\t\t\t| select(.address_type == \"mailing\" or ($mailingAddressFlag and .address_type==\"permanent\"))\n\t\t\t\t| { \n\t\t\t\t\tcity: (.city // null),\n\t\t\t\t\tstreet1: (.address_line_1 // null),\n\t\t\t\t\tstreet2: (.address_line_2 // null),\n\t\t\t\t\tpostalCode: \"\",\n\t\t\t\t\tcountryCode: (.country // null),\n\t\t\t\t\tstateCode: (.state // null)\n\t\t\t\t} // null\n\t\t\t),\n\t\t\testablishedDate: ( .business_established_date // null),\n\t\t\tcurrentOwnershipEstablishedDate: ( .business_established_date // null),\n\t\t\tstateOfFormation: (.state_of_establishment // null),\n\t\t\tnaicsCode: ( \n\t\t\t\tif .naics_code \n\t\t\t\t\tthen .naics_code | tostring \n\t\t\t\telse null \n\t\t\t\tend \n\t\t\t),\n\t\t\tcreditScore: (( .tin as $relationTin \n\t\t\t\t| $aggregators[]\n\t\t\t\t| select(.aggregator_type == \"fico\" and .is_latest == true) \n\t\t\t\t| .details.fico.principals[] \n\t\t\t\t| select(.SSN == $relationTin) \n\t\t\t\t| .ficoScore | tonumber) // null\n\t\t\t),\n\t\t\tcreditScoreDate: (( $aggregators[]\n\t\t\t\t| select(.aggregator_type == \"fico\" and .is_latest == true) \n\t\t\t\t| (\n\t\t\t\t\tif .modified \n\t\t\t\t\t\tthen .modified | split(\"T\")[0] \n\t\t\t\t\telse \"\" \n\t\t\t\t\tend\n\t\t\t\t)) // null\n\t\t\t)\n\t\t} // {}\n\t),\n}",
    "response_body_spec": "{\n    apiSuccess: (\n        if .responses| has(\"succeeded\") \n            then .responses|.succeeded \n        else false \n        end // false\n    ), \n    responses: (\n        if .responses|.succeeded \n            then { \n                customerid: .responses.result.id \n            } \n        else null \n        end\n    ),\n    errors: ((.responses|.messages) // null),\n}",
    "request_body_spec_config": "{\n \"entityType\":{\n \"single_member_llc\":\"Limited Liability Company Single Member\",\n \"sole_proprietor\":\"Sole Proprietorship\",\n \"partnership\":\"Partnership\",\n \"llc\":\"Limited Liability Company\",\n \"llc_as_s_corp\":\"Limited Liability Company\",\n \"llc_as_c_corp\":\"Limited Liability Company\",\n \"llc_as_partnership\":\"Limited Liability Partnership\",\n \"s_corp\":\"S Corporation\",\n \"c_corp\":\"C Corporation\"\n }\n}",
    "response_body_spec_config": "{}"
}