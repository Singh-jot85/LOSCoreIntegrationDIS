{
    "xsd_name": "TPG_CustomerMaster",
    "xml_template": "<?xml version=\"1.0\" encoding=\"UTF-8\"?><SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"><SOAP-ENV:Header><wsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"><wsse:UsernameToken xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"><wsse:Username>{{XUserName}}</wsse:Username><wsse:Password Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText\">{{XPassword}}</wsse:Password><wsu:Created xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\">{{current_timestamp}}</wsu:Created></wsse:UsernameToken></wsse:Security></SOAP-ENV:Header><SOAP-ENV:Body><CustRelAdd xmlns=\"http://jackhenry.com/jxchange/TPG/2008\"><MsgRqHdr><jXchangeHdr><JxVer /><AuditUsrId>{{XAuditUser}}</AuditUsrId><AuditWsId>{{XAuditWorkStation}}</AuditWsId><AuthenUsrId /><ConsumerName /><ConsumerProd /><Ver_1 /><jXLogTrackingId>{{jXLogTrackingId}}</jXLogTrackingId><Ver_2 /><InstRtId>{{XInstitutionRoutingID}}</InstRtId><InstEnv>{{XEnvironment}}</InstEnv><Ver_3 /><BusCorrelId>{{guid}}</BusCorrelId><Ver_4 /><WorkflowCorrelId /><Ver_5 /><ValidConsmName>{{XValidConsumerName}}</ValidConsmName><ValidConsmProd>{{XValidConsumerProduct}}</ValidConsmProd><Ver_6 /></jXchangeHdr><Ver_1 /><Ver_2 /><Ver_3 /></MsgRqHdr><CustId>{{ CustId }}</CustId><CustRelRec><Ver_1 /><Ver_2 /><Ver_3 /><IdVerifyBy>{{ CustRelRec.IdVerifyBy }}</IdVerifyBy><IdVerifyRsnCode>{{ CustRelRec.IdVerifyRsnCode }}</IdVerifyRsnCode><VerifyDt>{{ CustRelRec.VerifyDt }}</VerifyDt><Ver_4 /></CustRelRec><Ver_1 /><BenflOwnInfo><CustId>{{ BenflOwnInfo.CustId }}</CustId><PersonName><ComName>{{ BenflOwnInfo.PersonName.ComName }}</ComName><Ver_1 /></PersonName><BenflOwnType>{{ BenflOwnInfo.BenflOwnType }}</BenflOwnType><CntlIndivTitle>{{ BenflOwnInfo.CntlIndivTitle }}</CntlIndivTitle><BenflOwnPct>{{ BenflOwnInfo.BenflOwnPct }}</BenflOwnPct><IdVerifyArray>{% for idverify in BenflOwnInfo.IdVerifyArray %}<IdVerify><IdVerifyCode>{{ idverify.IdVerifyCode }}</IdVerifyCode><IdVerifyVal>{{ idverify.IdVerifyVal }}</IdVerifyVal><IdVerifyBy>{{ idverify.IdVerifyBy }}</IdVerifyBy><IdIssueBy>{{ idverify.IdIssueBy }}</IdIssueBy><IdVerifyQueryArray>{% for idverifyquery in idverify.IdVerifyQueryArray %} <IdVerifyQueryInfo><IdVerifyQuery>{{ idverifyquery.IdVerifyQuery }}</IdVerifyQuery><IdVerifyQueryVal>{{ idverifyquery.IdVerifyQueryVal }}</IdVerifyQueryVal><Ver_1 /></IdVerifyQueryInfo> {% endfor %}</IdVerifyQueryArray><Ver_1 /></IdVerify>{% endfor %}</IdVerifyArray><Ver_1 /></BenflOwnInfo><Ver_2 /><Ver_3 /></CustRelAdd></SOAP-ENV:Body></SOAP-ENV:Envelope>",
    "xml_error_path": "s:Envelope/s:Body/s:Fault/detail/HdrFault/FaultRecInfoArray/FaultMsgRec/ErrDesc",
    "validation_spec": "{}",
    "xml_success_path": "s:Envelope/s:Body/CustRelAddResponse/RsStat",
    "request_body_spec": "{ CustId: (. as $root | $root.flat_relations | map(select(.id == $root.loan_relations[0].id))[0].parent_id as $pid | map(select(.id == $pid))[0].external_customer_id // \"\"), CustRelRec: { IdVerifyBy: \"Charles Barkley\", IdVerifyRsnCode: \"NEW\", VerifyDt: \"2024-02-28\" }, BenflOwnInfo: { CustId: .loan_relations[0].external_customer_id, PersonName: { ComName: (if .loan_relations[0].party_type == \"individual\" then (.loan_relations[0].first_name + \" \" + .loan_relations[0].middle_name + \" \" + .loan_relations[0].last_name) else .loan_relations[0].business_name end) }, BenflOwnType: (if .loan_relations[0].is_ben_owner_by_control then (if .loan_relations[0].ownership_percentage then \"CntlOwn\" else \"Cntl\" end) else \"Own\" end), CntlIndivTitle: \"Mr.\", BenflOwnPct: (.loan_relations[0].ownership_percentage // 0), IdVerifyArray: [ { IdVerifyCode: \"FP\", IdVerifyVal: \"KD1234ffgt7845\", IdVerifyBy: \"RSS\", IdIssueBy: \"MO\", IdVerifyQueryArray: [ { IdVerifyQuery: \"IssDt\", IdVerifyQueryVal: \"2010-10-15\" }, { IdVerifyQuery: \"DocType\", IdVerifyQueryVal: \"PHOTOCOPY\" } ] } ] } }",
    "response_body_spec": "{ apiSuccess: .apiSuccess, errors: { errorNum: (if (.errors.errorNum != \"\" and .errors.errorNum != null) then .errors.errorNum else null end), errorMsg: ((if (.errors.errorNum != \"\" and .errors.errorNum != null) then .errors.errorMsg.Error else null end)) }, responses: (if .apiSuccess == true and .responses.Id then [{ status: .responses.Id }] else [] end) }",
    "request_body_spec_config": "{}",
    "response_body_spec_config": "{}"
}